* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Ticket dimensions based on viewport (320px @ 1920px width = 16.67vw) */
    --ticket-width: 16.67vw;
    --ticket-height: 7.55vw; /* Maintains 320:145 aspect ratio */
    --ticket-corner: 0.885vw; /* 17px scaled */
    --ticket-gap: 0.05vw; /* 1px scaled */
    --punch-hole-size: 0.52vw; /* 10px scaled */
    --punch-hole-offset: 1.04vw; /* 20px scaled */
    --hover-scale: 1.15;

    /* Responsive breakpoints - adjust ticket size for smaller screens */
    @media (max-width: 1200px) {
        --ticket-width: 20vw;
        --ticket-height: 9.06vw;
        --ticket-corner: 1.06vw;
        --ticket-gap: 0.08vw;
        --punch-hole-size: 0.63vw;
        --punch-hole-offset: 1.25vw;
    }

    @media (max-width: 768px) {
        --ticket-width: 30vw;
        --ticket-height: 13.59vw;
        --ticket-corner: 1.59vw;
        --ticket-gap: 0.13vw;
        --punch-hole-size: 0.94vw;
        --punch-hole-offset: 1.88vw;
    }

    @media (max-width: 480px) {
        --ticket-width: 45vw;
        --ticket-height: 20.39vw;
        --ticket-corner: 2.39vw;
        --ticket-gap: 0.20vw;
        --punch-hole-size: 1.41vw;
        --punch-hole-offset: 2.81vw;
    }
}

body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(135deg, #1e1e1e 0%, #3a3a3a 100%);
    overflow: hidden;
    height: 100vh;
}

.carousel-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
}

.carousel {
    position: absolute;
    top: 50%;
    left: 50%;
    display: flex;
    gap: var(--ticket-gap);
    transform-origin: center center;
}

.ticket {
    position: relative;
    width: var(--ticket-width);
    height: var(--ticket-height);
    background:
        radial-gradient(circle at 0 0, #f4e4c1 var(--ticket-corner), transparent var(--ticket-corner)) top left,
        radial-gradient(circle at 100% 0, #f4e4c1 var(--ticket-corner), transparent var(--ticket-corner)) top right,
        radial-gradient(circle at 0 100%, #e8d4b0 var(--ticket-corner), transparent var(--ticket-corner)) bottom left,
        radial-gradient(circle at 100% 100%, #e8d4b0 var(--ticket-corner), transparent var(--ticket-corner)) bottom right;
    background-size: 51% 51%;
    background-repeat: no-repeat;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 0.52vw 1.56vw rgba(0, 0, 0, 0.5);
    flex-shrink: 0;
    overflow: visible;
    clip-path: polygon(
        /* Top left corner - inward circular arc from (0,corner) to (corner,0) */
        0 var(--ticket-corner),
        calc(var(--ticket-corner) * 0.176) calc(var(--ticket-corner) * 0.984),
        calc(var(--ticket-corner) * 0.353) calc(var(--ticket-corner) * 0.942),
        calc(var(--ticket-corner) * 0.529) calc(var(--ticket-corner) * 0.875),
        calc(var(--ticket-corner) * 0.707) calc(var(--ticket-corner) * 0.707),
        calc(var(--ticket-corner) * 0.875) calc(var(--ticket-corner) * 0.529),
        calc(var(--ticket-corner) * 0.942) calc(var(--ticket-corner) * 0.353),
        calc(var(--ticket-corner) * 0.984) calc(var(--ticket-corner) * 0.176),
        var(--ticket-corner) 0,
        /* Top side */
        calc(100% - var(--ticket-corner)) 0,
        /* Top right corner - inward circular arc */
        calc(100% - var(--ticket-corner) * 0.984) calc(var(--ticket-corner) * 0.176),
        calc(100% - var(--ticket-corner) * 0.942) calc(var(--ticket-corner) * 0.353),
        calc(100% - var(--ticket-corner) * 0.875) calc(var(--ticket-corner) * 0.529),
        calc(100% - var(--ticket-corner) * 0.707) calc(var(--ticket-corner) * 0.707),
        calc(100% - var(--ticket-corner) * 0.529) calc(var(--ticket-corner) * 0.875),
        calc(100% - var(--ticket-corner) * 0.353) calc(var(--ticket-corner) * 0.942),
        calc(100% - var(--ticket-corner) * 0.176) calc(var(--ticket-corner) * 0.984),
        100% var(--ticket-corner),
        /* Right side */
        100% calc(100% - var(--ticket-corner)),
        /* Bottom right corner - inward circular arc */
        calc(100% - var(--ticket-corner) * 0.176) calc(100% - var(--ticket-corner) * 0.984),
        calc(100% - var(--ticket-corner) * 0.353) calc(100% - var(--ticket-corner) * 0.942),
        calc(100% - var(--ticket-corner) * 0.529) calc(100% - var(--ticket-corner) * 0.875),
        calc(100% - var(--ticket-corner) * 0.707) calc(100% - var(--ticket-corner) * 0.707),
        calc(100% - var(--ticket-corner) * 0.875) calc(100% - var(--ticket-corner) * 0.529),
        calc(100% - var(--ticket-corner) * 0.942) calc(100% - var(--ticket-corner) * 0.353),
        calc(100% - var(--ticket-corner) * 0.984) calc(100% - var(--ticket-corner) * 0.176),
        calc(100% - var(--ticket-corner)) 100%,
        /* Bottom side */
        var(--ticket-corner) 100%,
        /* Bottom left corner - inward circular arc */
        calc(var(--ticket-corner) * 0.984) calc(100% - var(--ticket-corner) * 0.176),
        calc(var(--ticket-corner) * 0.942) calc(100% - var(--ticket-corner) * 0.353),
        calc(var(--ticket-corner) * 0.875) calc(100% - var(--ticket-corner) * 0.529),
        calc(var(--ticket-corner) * 0.707) calc(100% - var(--ticket-corner) * 0.707),
        calc(var(--ticket-corner) * 0.529) calc(100% - var(--ticket-corner) * 0.875),
        calc(var(--ticket-corner) * 0.353) calc(100% - var(--ticket-corner) * 0.942),
        calc(var(--ticket-corner) * 0.176) calc(100% - var(--ticket-corner) * 0.984),
        0 calc(100% - var(--ticket-corner))
    );
}

/* Cinema ticket curved corners effect - handled by clip-path */

/* Punch holes */
.punch-hole {
    position: absolute;
    width: var(--punch-hole-size);
    height: var(--punch-hole-size);
    background: #2a2a2a;
    border-radius: 50%;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
}

.punch-hole:nth-child(1) {
    left: var(--punch-hole-offset);
}

.punch-hole:nth-child(2) {
    right: var(--punch-hole-offset);
}

/* Ticket content */
.ticket-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
}

/* Hover effect */
.ticket:hover {
    transform: scale(var(--hover-scale)) translateZ(1.04vw);
    box-shadow: 0 1.04vw 2.60vw rgba(0, 0, 0, 0.7);
    z-index: 10;
    filter: drop-shadow(0 1.04vw 1.30vw rgba(0, 0, 0, 0.8));
    clip-path: polygon(
        /* Top left corner - inward circular arc */
        0 var(--ticket-corner),
        calc(var(--ticket-corner) * 0.176) calc(var(--ticket-corner) * 0.984),
        calc(var(--ticket-corner) * 0.353) calc(var(--ticket-corner) * 0.942),
        calc(var(--ticket-corner) * 0.529) calc(var(--ticket-corner) * 0.875),
        calc(var(--ticket-corner) * 0.707) calc(var(--ticket-corner) * 0.707),
        calc(var(--ticket-corner) * 0.875) calc(var(--ticket-corner) * 0.529),
        calc(var(--ticket-corner) * 0.942) calc(var(--ticket-corner) * 0.353),
        calc(var(--ticket-corner) * 0.984) calc(var(--ticket-corner) * 0.176),
        var(--ticket-corner) 0,
        /* Top side */
        calc(100% - var(--ticket-corner)) 0,
        /* Top right corner - inward circular arc */
        calc(100% - var(--ticket-corner) * 0.984) calc(var(--ticket-corner) * 0.176),
        calc(100% - var(--ticket-corner) * 0.942) calc(var(--ticket-corner) * 0.353),
        calc(100% - var(--ticket-corner) * 0.875) calc(var(--ticket-corner) * 0.529),
        calc(100% - var(--ticket-corner) * 0.707) calc(var(--ticket-corner) * 0.707),
        calc(100% - var(--ticket-corner) * 0.529) calc(var(--ticket-corner) * 0.875),
        calc(100% - var(--ticket-corner) * 0.353) calc(var(--ticket-corner) * 0.942),
        calc(100% - var(--ticket-corner) * 0.176) calc(var(--ticket-corner) * 0.984),
        100% var(--ticket-corner),

        /* Right side - torn edge effect */
        100% calc(var(--ticket-corner) * 1.5),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 1.6), calc(100% - 0.13vw) calc(var(--ticket-corner) * 1.7),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 1.9), 100% calc(var(--ticket-corner) * 2.2),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 2.4), calc(100% - 0.13vw) calc(var(--ticket-corner) * 2.6),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 2.8), 100% calc(var(--ticket-corner) * 3.0),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 3.2), calc(100% - 0.13vw) calc(var(--ticket-corner) * 3.4),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 3.6), 100% calc(var(--ticket-corner) * 3.8),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 4.0), calc(100% - 0.13vw) calc(var(--ticket-corner) * 4.2),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 4.4), 100% calc(var(--ticket-corner) * 4.6),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 4.8), calc(100% - 0.13vw) calc(var(--ticket-corner) * 5.0),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 5.2), 100% calc(var(--ticket-corner) * 5.4),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 5.6), calc(100% - 0.13vw) calc(var(--ticket-corner) * 5.8),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 6.0), 100% calc(var(--ticket-corner) * 6.2),
        calc(100% - 0.05vw) calc(var(--ticket-corner) * 6.4), calc(100% - 0.13vw) calc(var(--ticket-corner) * 6.6),
        calc(100% - 0.21vw) calc(var(--ticket-corner) * 6.8), 100% calc(var(--ticket-corner) * 7.0),
        100% calc(100% - var(--ticket-corner)),

        /* Bottom right corner - inward circular arc */
        calc(100% - var(--ticket-corner) * 0.176) calc(100% - var(--ticket-corner) * 0.984),
        calc(100% - var(--ticket-corner) * 0.353) calc(100% - var(--ticket-corner) * 0.942),
        calc(100% - var(--ticket-corner) * 0.529) calc(100% - var(--ticket-corner) * 0.875),
        calc(100% - var(--ticket-corner) * 0.707) calc(100% - var(--ticket-corner) * 0.707),
        calc(100% - var(--ticket-corner) * 0.875) calc(100% - var(--ticket-corner) * 0.529),
        calc(100% - var(--ticket-corner) * 0.942) calc(100% - var(--ticket-corner) * 0.353),
        calc(100% - var(--ticket-corner) * 0.984) calc(100% - var(--ticket-corner) * 0.176),
        calc(100% - var(--ticket-corner)) 100%,
        /* Bottom side */
        var(--ticket-corner) 100%,
        /* Bottom left corner - inward circular arc */
        calc(var(--ticket-corner) * 0.984) calc(100% - var(--ticket-corner) * 0.176),
        calc(var(--ticket-corner) * 0.942) calc(100% - var(--ticket-corner) * 0.353),
        calc(var(--ticket-corner) * 0.875) calc(100% - var(--ticket-corner) * 0.529),
        calc(var(--ticket-corner) * 0.707) calc(100% - var(--ticket-corner) * 0.707),
        calc(var(--ticket-corner) * 0.529) calc(100% - var(--ticket-corner) * 0.875),
        calc(var(--ticket-corner) * 0.353) calc(100% - var(--ticket-corner) * 0.942),
        calc(var(--ticket-corner) * 0.176) calc(100% - var(--ticket-corner) * 0.984),
        0 calc(100% - var(--ticket-corner)),

        /* Left side - torn edge effect */
        0 calc(var(--ticket-corner) * 7.0),
        0.05vw calc(var(--ticket-corner) * 6.8), 0.13vw calc(var(--ticket-corner) * 6.6),
        0.21vw calc(var(--ticket-corner) * 6.4), 0 calc(var(--ticket-corner) * 6.2),
        0.05vw calc(var(--ticket-corner) * 6.0), 0.13vw calc(var(--ticket-corner) * 5.8),
        0.21vw calc(var(--ticket-corner) * 5.6), 0 calc(var(--ticket-corner) * 5.4),
        0.05vw calc(var(--ticket-corner) * 5.2), 0.13vw calc(var(--ticket-corner) * 5.0),
        0.21vw calc(var(--ticket-corner) * 4.8), 0 calc(var(--ticket-corner) * 4.6),
        0.05vw calc(var(--ticket-corner) * 4.4), 0.13vw calc(var(--ticket-corner) * 4.2),
        0.21vw calc(var(--ticket-corner) * 4.0), 0 calc(var(--ticket-corner) * 3.8),
        0.05vw calc(var(--ticket-corner) * 3.6), 0.13vw calc(var(--ticket-corner) * 3.4),
        0.21vw calc(var(--ticket-corner) * 3.2), 0 calc(var(--ticket-corner) * 3.0),
        0.05vw calc(var(--ticket-corner) * 2.8), 0.13vw calc(var(--ticket-corner) * 2.6),
        0.21vw calc(var(--ticket-corner) * 2.4), 0 calc(var(--ticket-corner) * 2.2),
        0.05vw calc(var(--ticket-corner) * 1.9), 0.13vw calc(var(--ticket-corner) * 1.7),
        0.21vw calc(var(--ticket-corner) * 1.6), 0 calc(var(--ticket-corner) * 1.5)
    );
}

.carousel.paused {
    animation-play-state: paused !important;
}

/* Controls */
.controls {
    position: fixed;
    bottom: 1.56vw;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(0.52vw);
    padding: 1.04vw 2.08vw;
    border-radius: 2.60vw;
    color: white;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 0.78vw;
    z-index: 100;
}

.controls label {
    font-size: clamp(12px, 0.83vw, 16px);
    font-weight: 500;
    white-space: nowrap;
}

#angle, #speed {
    width: clamp(100px, 7.81vw, 150px);
    cursor: pointer;
}

#angleValue, #speedValue {
    display: inline-block;
    min-width: 1.56vw;
    font-weight: bold;
    color: #f4e4c1;
}

/* Responsive adjustments for controls */
@media (max-width: 768px) {
    .controls {
        bottom: 3vw;
        padding: 2vw 3vw;
        gap: 1.5vw;
    }

    .controls label {
        font-size: clamp(10px, 1.8vw, 14px);
    }

    #angle, #speed {
        width: clamp(80px, 15vw, 120px);
    }
}

@media (max-width: 480px) {
    .controls {
        bottom: 5vw;
        padding: 3vw 4vw;
        flex-direction: column;
        gap: 2vw;
    }
}
